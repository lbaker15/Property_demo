(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{24:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},37:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(17),s=a.n(c),i=(a(30),a(2)),o=a(3),l=a(5),d=a(4),h=(a(31),a(13)),u=(a(32),a(0)),p=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clicked:!1,invalid:!1},e.handleBlur=function(t){var a=t.target.validity.valid;e.setState({clicked:!0,invalid:a})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.name,n=e.handleChange,r=e.value,c=this.state,s=c.clicked,i=c.invalid;return console.log(r),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("label",{children:t}),Object(u.jsx)("input",{style:s?r.length>0&&i?{border:"1px solid #00db71"}:{border:"1px solid red"}:{border:"1px solid #c3c3c3"},onBlur:this.handleBlur,type:"password"===a?"password":"username"===a?"email":"text",name:a,value:r,onChange:n}),Object(u.jsx)("div",{style:0===r.length&&s?{display:"block"}:{display:"none"},className:"alert",children:"This field is required"}),Object(u.jsx)("div",{style:s&&r.length>0&&!i?{display:"block"}:{display:"none"},className:"alertInvalid",children:"Please ensure input is in correct format"})]})}}]),a}(r.a.Component),j=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.stringg,a=e.handleClick,n=e.specifiedClass;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)("button",{className:"null"!==n?n:"submit",onClick:a,children:t})})}}]),a}(r.a.Component),b=a(11),m=a(7),g=function(e){return{type:"MAP_SAVED",payload:e}},O=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.children;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)("div",{children:e})})}}]),a}(r.a.Component),f=Object(b.b)((function(e){return{map:e.map}}),(function(e){return{addMapRedux:function(t){return e(g(t))}}}))(O),v=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.opacity,a=e.blur,n=e.left,c=e.top,s=e.bottom,i=e.right;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)("div",{style:1===c?1===n?{opacity:t,filter:"blur(".concat(a,"px)"),right:i,zIndex:1,bottom:s}:{opacity:t,filter:"blur(".concat(a,"px)"),left:n,zIndex:1,bottom:s}:1===n?{opacity:t,filter:"blur(".concat(a,"px)"),right:i,zIndex:1,top:c}:{opacity:t,filter:"blur(".concat(a,"px)"),left:n,zIndex:1,top:c},className:"blurCircle"})})}}]),a}(r.a.Component),x=(a(37),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.background;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{style:e?{background:"#a1a1a1",width:"100vw",height:"100%",opacity:.5,marginLeft:"-10vw"}:{},className:"loading",children:[Object(u.jsx)("div",{className:"obj"}),Object(u.jsx)("div",{className:"obj"}),Object(u.jsx)("div",{className:"obj"}),Object(u.jsx)("div",{className:"obj"}),Object(u.jsx)("div",{className:"obj"}),Object(u.jsx)("div",{className:"obj"}),Object(u.jsx)("div",{className:"obj"}),Object(u.jsx)("div",{className:"obj"})]})})}}]),a}(r.a.Component)),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.value,n=e.onChange,c=e.label;return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)("label",{style:{fontWeight:500},children:[c," :"]}),Object(u.jsx)("input",{id:t,step:"time"===t?1:"",min:"time"===t?0:"",type:"time"===t?"number":"text",value:a,onChange:function(e){return n(e,e.target.id)}})]})}}]),a}(r.a.Component),C=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleFileInput=void 0,n.handleClick=function(){var e;n.handleFileInput&&(null===(e=n.handleFileInput.current)||void 0===e||e.click())},n.handleFileInput=r.a.createRef(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleChange,a=e.value,n=e.object;return Object(u.jsxs)("div",{style:n,children:[Object(u.jsx)("input",{ref:this.handleFileInput,onChange:t,type:"file",id:"actual-btn",hidden:!0}),Object(u.jsx)("button",{onClick:this.handleClick,className:"uploadBtn",children:"Choose File"}),Object(u.jsx)("span",{id:"file-chosen",children:""===a||null===a||void 0===a?"No file chosen":a.name})]})}}]),a}(r.a.Component),S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleFileInput=void 0,n.state={alert:"",show:!1,photo:"",username:"",password:"",message:"",time:0,hours:0,mins:0,loader:!1},n.instaShow=function(){n.setState((function(e){return{show:!e.show}}))},n.handleClick=function(){var e;n.handleFileInput&&(null===(e=n.handleFileInput.current)||void 0===e||e.click())},n.handleFileChange=function(e){console.log(e.target.files[0]);var t=e.target.files[0];n.setState({photo:t})},n.handleSubmit=function(){var e=n.state,t=e.password,a=e.photo,r=e.hours,c=e.mins,s=e.username,i=e.message,o=e.time;e.loader;if(a&&i.length>0&&s.length>0&&t.length>0){var l=n.state.photo,d=l.name;o=60*r+c,console.log(o);var h=new FormData;h.append("image",l,d),h.append("username",s),h.append("time",String(o)),h.append("password",t),h.append("message",i),n.setState({loader:!0}),setTimeout((function(){console.log(l,h),fetch("https://places-find.herokuapp.com/admin/insta-upload",{method:"POST",body:h}).then((function(e){return e.json()})).then((function(e){e.Success?n.setState({alert:"Uploaded"}):n.setState({alert:"Error"}),n.setState({loader:!1})}))}),1e3)}},n.loginCredentials=function(e,t){"username"===t?n.setState((function(t){return{username:e.target.value}})):"message"===t?n.setState((function(t){return{message:e.target.value}})):"hours"===t?n.setState((function(t){return{hours:Number(e.target.value)}})):"mins"===t?n.setState((function(t){return{mins:Number(e.target.value)}})):n.setState((function(t){return{password:e.target.value}}))},n.handleFileInput=r.a.createRef(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.alert,a=e.closeAlert,n=e.successfulSubmit,c=this.state,s=c.show,i=c.username,o=c.password,l=c.message,d=c.photo,h=c.loader,p=c.hours,b=c.mins;c.time;return console.log(h),Object(u.jsxs)(r.a.Fragment,{children:[h&&Object(u.jsx)(x,{background:!0}),Object(u.jsxs)("div",{className:"alertBit",children:[Object(u.jsx)("button",{onClick:a,className:"alertClose",children:"X"}),Object(u.jsx)("h3",{children:t}),Object(u.jsxs)("div",{style:n?{display:"block"}:{display:"none"},children:[Object(u.jsx)("button",{className:"instagramShare",onClick:this.instaShow,children:"Click here to share photo to instagram"}),s&&Object(u.jsxs)("div",{className:"instagramDetails",children:[Object(u.jsx)(C,{handleChange:this.handleFileChange,value:d,object:{}}),Object(u.jsx)("br",{}),Object(u.jsx)(y,{label:"Instagram username",id:"username",value:i,onChange:this.loginCredentials}),Object(u.jsx)(y,{label:"Instagram password",id:"password",value:o,onChange:this.loginCredentials}),Object(u.jsx)(y,{label:"Message",id:"message",value:l,onChange:this.loginCredentials}),Object(u.jsx)(y,{label:"Scheduled time (in hours)",id:"hours",value:p,onChange:this.loginCredentials}),Object(u.jsx)(y,{label:"Scheduled time (in minutes)",id:"mins",value:b,onChange:this.loginCredentials}),this.state.alert&&Object(u.jsx)("h5",{children:this.state.alert}),Object(u.jsx)(j,{specifiedClass:"instaSubmit",handleClick:this.handleSubmit,stringg:"Submit"})]})]})]})]})}}]),a}(r.a.Component),k=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",loading:!1,redirect:!1,alert:""},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=e.state,a=t.username,n=t.password;if(a.length>0&&n.length>0){var r={email:a,password:n};e.setState({loading:!0}),fetch("https://places-find.herokuapp.com/admin/get-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){if(console.log("then"),t.Token){var a=t.Token,n=new Date,r=n.getTime();r+=36e5,n.setTime(r),document.cookie="tokenName="+a+";expires="+n.toUTCString()+";path=/",setTimeout((function(){e.setState({redirect:!0,loading:!1})}),1e3)}else e.setState({loading:!1,alert:"Please ensure login details are correct."})}))}},e.closeAlert=function(){e.setState({alert:""})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.redirect,c=e.alert,s=e.loading;return Object(u.jsxs)(r.a.Fragment,{children:[n&&Object(u.jsx)(m.a,{to:"/dashboard"}),Object(u.jsx)(f,{children:Object(u.jsxs)("div",{className:"form",children:[Object(u.jsxs)("div",{className:"formInner",children:[Object(u.jsx)("h1",{children:"Please Login Here"}),Object(u.jsx)(p,{value:t,handleChange:this.handleChange,label:"Username",name:"username"}),Object(u.jsx)(p,{value:a,handleChange:this.handleChange,label:"Password",name:"password"}),Object(u.jsx)(j,{specifiedClass:"null",handleClick:this.handleSubmit,stringg:"Submit"}),s&&Object(u.jsx)(x,{background:!1}),c.length>0&&Object(u.jsx)(S,{alert:c,successfulSubmit:!1,closeAlert:this.closeAlert})]}),Object(u.jsx)(v,{opacity:.6,blur:80,left:-100,bottom:-50,right:1,top:1}),Object(u.jsx)(v,{opacity:.6,blur:80,left:1,right:-50,top:-50,bottom:1})]})})]})}}]),a}(r.a.Component),w=Object(b.b)((function(e){return{}}))(k),N=(a(40),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.handleChange,n=e.address;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("input",{name:"address",onChange:a,value:n}),Object(u.jsx)("button",{onClick:t,children:"Search"})]})})}}]),a}(r.a.Component)),P=(a(41),a(25)),F={lat:53.9555583,lng:-1.0308132},T=new P.a({apiKey:"AIzaSyCNxlh-79Og3dQ_tYpV_Vzlkx3kAPyZ6HI",version:"weekly"}),A=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;T.load().then((function(){setTimeout((function(){var t=new window.google.maps.Map(document.getElementById("map"),{center:F,zoom:14});console.log("MAP",t),e.props.addMapRedux(t)}),200)}))}},{key:"render",value:function(){return console.log(this.props,this.state),Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)("div",{className:"mapContainer",children:Object(u.jsx)("div",{style:{width:500,height:500},id:"map"})})})}}]),a}(r.a.Component),M=Object(b.b)((function(e){return{map:e.reducer}}),(function(e){return{addMapRedux:function(t){return e(g(t))}}}))(A),D=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)("div",{className:"list",children:Object(u.jsx)(M,{})})})}}]),a}(r.a.Component),L=["1 bed","2 bed","3+ bed"],I=["Bungalow","Terraced House","Semi Detached House","Detached House","Flats/apartments"],B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleClick=function(){e.setState((function(e){return{open:!e.open}}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleCategorySelection,a=e.category,n=e.bedrooms,c=this.state.open,s=n?L:I;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{className:"button-col",children:[Object(u.jsxs)("button",{style:{marginTop:15,display:"flex",alignItems:"center"},className:"btn2",onClick:this.handleClick,children:[n&&Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)("span",{className:"plusSign",children:"+"})," ",Object(u.jsx)("span",{children:"Number of bedrooms"})]}),!n&&Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)("span",{className:"plusSign",children:"+"})," ",Object(u.jsx)("span",{children:"Property Type"})]})]}),c&&Object(u.jsx)("div",{style:{paddingTop:15,display:"flex",flexDirection:"column",gap:5},children:s.map((function(e,r){return Object(u.jsx)("button",{className:a===e?"btn btn-selected":"btn ",name:n?"bedrooms":"propertytype",value:e,onClick:t,children:e},e+r)}))})]})})}}]),a}(r.a.PureComponent),z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){console.log("updated2")}},{key:"render",value:function(){var e=this.props,t=e.handleChange,a=e.distance;return Object(u.jsxs)("div",{className:"distance",children:[Object(u.jsx)("h3",{children:"Select Distance"}),Object(u.jsx)("input",{style:{height:20},type:"range",min:"0",max:"200",onChange:t}),Object(u.jsxs)("h5",{children:[a," km"]})]})}}]),a}(r.a.PureComponent),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleChange,a=e.name,n=(e.value,e.array),c=!!n[0].includes("pcm"),s=a.slice(1);return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{className:c?"small-col col":"col",children:[Object(u.jsx)("label",{className:c?"font-bold":"",children:c?a[0].toLocaleUpperCase()+s:a}),Object(u.jsxs)("select",{name:a,style:c?{}:{outline:"none",padding:10,borderRadius:10,width:350,background:"rgba(236, 236, 236, 0.5)",border:"1px solid #c3c3c3"},onChange:t,children:[Object(u.jsx)("option",{value:"",children:"Please select..."}),n.map((function(e){return Object(u.jsx)("option",{style:{fontFamily:"Manrope"},value:e,children:e},e)}))]})]})})}}]),a}(r.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).arr=["0-300pcm","300pcm-400pcm","400pcm-500pcm","500pcm-600pcm","600pcm-700pcm","700pcm-800pcm","800pcm-900pcm","900pcm-1000pcm","1000pcm-1100pcm","1100pcm-1200pcm","1200pcm-1300pcm","1300pcm-1400pcm","1400pcm-1500pcm","1500pcm+"],e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleChange,a=e.price;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)(E,{value:a,name:"price",array:this.arr,handleChange:t})})}}]),a}(r.a.PureComponent),H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.price,a=e.distance,n=(e.hideMap,e.handleCategorySelection),c=e.handleChange,s=e.handleDistanceChange,i=e.bedrooms,o=e.propertytype;return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)("div",{className:"flex-col-2",children:[Object(u.jsx)(B,{bedrooms:!0,category:i,handleCategorySelection:n}),Object(u.jsx)(B,{bedrooms:!1,category:o,handleCategorySelection:n})]}),Object(u.jsx)("div",{className:"flex-col padding-to",children:Object(u.jsx)(R,{price:t,handleChange:c})}),Object(u.jsx)(z,{distance:a,handleChange:s})]})}}]),a}(r.a.Component),U=function(e){return new Promise((function(t,a){fetch("https://places-find.herokuapp.com/admin/places",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t(e.json())})).catch((function(e){return a(e)}))}))},V=function(e){return console.log(e),new Promise((function(t,a){fetch("https://places-find.herokuapp.com/admin/add-place",{method:"POST",body:e}).then((function(e){return t(e.json())})).catch((function(e){return a(e)}))}))},J=(a(24),a(42),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleSwitch,a=e.hideMap;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:!0===a?"div-light black-light":"div-light white-light",onClick:t,children:Object(u.jsx)("div",{className:!0===a?"light-btn move-light":"light-btn"})})})})}}]),a}(r.a.Component)),_=r.a.lazy((function(){return a.e(3).then(a.bind(null,45))})),W=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={dataList:[],completed:!1,alert:"",validated:!1,address:"",data:[],bedrooms:"",propertytype:"",distance:0,loader:!1,elapsed:!1,hideMap:!1,price:""},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=e.state,a=t.address,n=t.bedrooms,r=t.propertytype,c=t.distance,s=t.price;if(a.length>0){var i=(s="1500pcm+"===s?"1500pcm-5000pcm":s).split("-"),o={price:s,price1:i[0]?i[0].replace("pcm",""):"",price2:i[1]?i[1].replace("pcm",""):"",address:a,distanceLimit:c,bedrooms:n.toLocaleLowerCase(),propertytype:r.toLocaleLowerCase()};e.setState({loader:!0}),U(o).then((function(t){if(t.Data)if(t.Data.length>0){console.log("data",t.Data),e.setState({data:t.Data,alert:"",loader:!1});var a={zoom:10,center:{lat:Number(e.state.data[0].lat),lng:Number(e.state.data[0].lng)}},n=new window.google.maps.Map(document.getElementById("map"),a),r=new google.maps.LatLngBounds;e.state.data.map((function(t,a){var c={lat:Number(t.lat),lng:Number(t.lng)},s=new window.google.maps.Marker({position:c,map:n});console.log(s);var i=t.bedrooms,o=t.propertytype,l=t.businessAddress,d=t.name,h=t.telephone,u=new google.maps.InfoWindow({content:'\n                            <div className="info-window">\n                                <h2><span>Landlord Name:</span> '.concat(d,"</h2>\n                                <h2><span>Landlord Number:</span> +44").concat(h,"</h2>\n                                <h2><span>Address:</span> ").concat(l,"</h2>\n                                <h2><span>Bedrooms:</span> ").concat(i,"</h2>\n                                <h2><span>Property type:</span> ").concat(o,"</h2>\n                            </div>")});s.addListener("click",(function(){n.setZoom(16),n.setCenter(s.getPosition()),u.open(s.get("map"),s)})),r.extend(c),a===e.state.data.length-1&&setTimeout((function(){n.fitBounds(r)}),1e3)}))}else{e.setState({alert:"No places found.",data:[],loader:!1});var c={zoom:12,center:F},s=new window.google.maps.Map(document.getElementById("map"),c);e.state.data.map((function(e){var t={lat:Number(e.lat),lng:Number(e.lng)};new window.google.maps.Marker({position:t,map:s})}))}else console.log("error")}))}else e.setState({alert:"Please ensure an address is entered"})},e.handleCategorySelection=function(t){var a=t.target;console.log(a.value,e.state.bedrooms);var n="bedrooms"===a.name?e.state.bedrooms:e.state.propertytype;a.value===n?e.setState(Object(h.a)({},a.name,"")):e.setState(Object(h.a)({},a.name,a.value))},e.handleDistanceChange=function(t){var a=t.target;e.setState({distance:a.value})},e.handleSwitch=function(){var t=!e.state.hideMap;e.setState((function(e){return{hideMap:t}}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.cookie.match(new RegExp("(^| )tokenName=([^;]+)"))&&this.setState({validated:!0}),setTimeout((function(){e.setState({elapsed:!0})}),1e3),new Promise((function(e,t){fetch("https://places-find.herokuapp.com/admin/places-all",{method:"POST"}).then((function(t){return e(t.json())})).catch((function(e){return t(e)}))})).then((function(t){var a=t.Data;a&&(e.setState({dataList:[]}),a.map((function(t,n){var r=e.state.dataList.concat(t);e.setState({dataList:r}),n===a.length-1&&e.setState({completed:!0})})))}))}},{key:"render",value:function(){var e=this.state,t=e.price,a=e.completed,c=e.dataList,s=e.hideMap,i=e.elapsed,o=e.validated,l=e.loader,d=e.alert,h=e.address,p=(e.data,e.distance),j=e.bedrooms,b=e.propertytype;return o?Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{style:{height:"auto",marginTop:75},className:"padding",children:[l&&Object(u.jsx)(x,{background:!1}),Object(u.jsxs)("div",{className:"inner-1",children:[Object(u.jsx)(J,{hideMap:s,handleSwitch:this.handleSwitch}),Object(u.jsx)("span",{children:s?"View Map":"View All Properties"})]}),Object(u.jsx)(N,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,address:h}),Object(u.jsx)("div",{style:s?{display:"none"}:{display:"flex"},className:"center",children:Object(u.jsx)(H,{price:t,bedrooms:j,propertytype:b,distance:p,hideMap:s,handleCategorySelection:this.handleCategorySelection,handleChange:this.handleChange,handleDistanceChange:this.handleDistanceChange})}),d.length>0&&Object(u.jsx)("h5",{style:{paddingTop:17,marginBottom:-20,fontSize:18,fontWeight:600,fontFamily:"Manrope",textAlign:"center"},children:d}),s?Object(u.jsx)(n.Suspense,{fallback:Object(u.jsx)(x,{background:!1}),children:Object(u.jsx)(_,{data:c,completed:a})}):Object(u.jsx)(D,{})]})}):Object(u.jsx)("div",{children:!o&&i&&Object(u.jsx)(m.a,{to:"/"})})}}]),a}(r.a.Component),Y=Object(b.b)((function(e){return{map:e.reducer}}))(W),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={successfulSubmit:!1,photo:"",name:"",telephone:"",address:"",bedrooms:"",alert:"",propertytype:"",advert:"",price:"0",loading:!1},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.handleChangeSelect=function(t){var a=t.target.name.toLocaleLowerCase();a=a.replace(/ /g,""),e.setState(Object(h.a)({},a,t.target.value))},e.handlePhotoChange=function(t){t.target.files&&e.setState({photo:t.target.files[0]})},e.handleClick=function(){var t=e.state,a=t.name,n=t.advert,r=t.price,c=t.telephone,s=t.address,i=t.bedrooms,o=t.photo,l=t.propertytype,d=o;if(n.length>0&&r.length>0&&l.length>0&&a.length>0&&o&&c.length>0&&s.length>0&&i.length>0){var h=d.name,u=document.cookie.match(new RegExp("(^| )tokenName=([^;]+)"));if(c=c.includes(" ")?c.replace(" ",""):c,u){var p=u?u[2]:"null",j=new FormData;j.append("image",d,h),j.append("advert",n),j.append("author",p),j.append("price",r),j.append("name",a),j.append("telephone",c),j.append("address",s),j.append("bedrooms",i),j.append("propertytype",l),e.setState({loading:!0}),V(j).then((function(t){t.Data?e.setState({alert:"Place added.",successfulSubmit:!0,loading:!1}):e.setState({alert:"Could not be added, please ensure all inputs are entered correctly before submitting",loading:!1})}))}else e.setState({alert:"Please ensure you are logged in"})}else e.setState({alert:"Please ensure all inputs are entered correctly before submitting"})},e.closeAlert=function(){e.setState({alert:""})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.price,a=e.advert,n=e.name,r=e.telephone,c=e.address,s=e.bedrooms,i=e.photo,o=e.alert,l=e.successfulSubmit,d=e.propertytype;return Object(u.jsx)("div",{className:"padding",children:Object(u.jsxs)("div",{style:{display:"flex",background:"rgba(255, 255, 255, 0.05)",flexDirection:"column",width:"100%",marginTop:"75px",paddingBottom:"75px",height:"auto",alignItems:"center",justifyContent:"center"},className:"addPlace",children:[Object(u.jsx)("h2",{children:"Add Your Own Place"}),Object(u.jsx)(p,{label:"Landlord name",name:"name",value:n,handleChange:this.handleChange}),Object(u.jsx)(p,{label:"Landlord telephone",name:"telephone",value:r,handleChange:this.handleChange}),Object(u.jsx)(p,{label:"Property address",name:"address",value:c,handleChange:this.handleChange}),Object(u.jsx)(p,{label:"Advert Link",name:"advert",value:a,handleChange:this.handleChange}),Object(u.jsx)(p,{label:"Price PCM",name:"price",value:t,handleChange:this.handleChange}),Object(u.jsx)(E,{array:L,name:"Bedrooms",value:s,handleChange:this.handleChangeSelect}),Object(u.jsx)("br",{}),Object(u.jsx)(E,{array:I,name:"Property Type",value:d,handleChange:this.handleChangeSelect}),Object(u.jsx)("br",{}),Object(u.jsx)(C,{object:{marginBottom:18,marginTop:-10},handleChange:this.handlePhotoChange,value:i}),Object(u.jsx)(j,{specifiedClass:"null",stringg:"Submit",handleClick:this.handleClick}),o.length>0?Object(u.jsx)(S,{alert:o,closeAlert:this.closeAlert,successfulSubmit:l}):null,this.state.loading&&Object(u.jsx)(x,{background:!1})]})})}}]),a}(r.a.Component),q=(a(43),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1,redirectTo:"",validated:!1},e.redirect=function(t){var a=t.target,n=String(a.value).toLocaleLowerCase();if(n.indexOf(" ")>=0){var r=n.split(" "),c=new String;r.map((function(e){c+=e})),e.setState({redirect:!0,redirectTo:c})}else{var s="home"===n?"dashboard":n;e.setState({redirect:!0,redirectTo:s})}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){document.cookie.match(new RegExp("(^| )tokenName=([^;]+)"))&&e.setState({validated:!0})}),200)}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.redirectTo,c=t.validated?["Home","Add Place","Log out"]:["Home","Add Place","Login"];return Object(u.jsxs)(r.a.Fragment,{children:[a&&Object(u.jsx)(m.a,{to:"/"+n}),Object(u.jsx)("div",{className:"header",children:c.map((function(t){return console.log(t),Object(u.jsx)("button",{onClick:e.redirect,value:t,children:t},t)}))})]})}}]),a}(r.a.Component)),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t=e.getTime();e.setTime(t),document.cookie="tokenName= ;expires=Thu, 01 Jan 1970 00:00:01 GMT",this.forceUpdate(),this.setState({redirect:!0})}},{key:"render",value:function(){var e=this.state.redirect;return Object(u.jsxs)(r.a.Fragment,{children:[e&&Object(u.jsx)(m.a,{to:"/"}),"Logout"]})}}]),a}(r.a.Component),K=Object(b.b)((function(e){return{}}))(G),Q=a(15),X=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={validated:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){document.cookie.match(new RegExp("(^| )tokenName=([^;]+)"))&&e.setState({validated:!0})}),2e3)}},{key:"render",value:function(){this.state.validated;return Object(u.jsx)(Q.a,{children:Object(u.jsxs)(m.d,{children:[Object(u.jsx)(m.b,{exact:!0,path:"/",children:function(){return Object(u.jsx)(w,{})}}),Object(u.jsxs)(m.b,{path:"/dashboard",children:[Object(u.jsx)(q,{}),Object(u.jsx)(Y,{})]}),Object(u.jsxs)(m.b,{path:"/addplace",children:[Object(u.jsx)(q,{}),Object(u.jsx)(Z,{})]}),Object(u.jsxs)(m.b,{path:"/logout",children:[Object(u.jsx)(q,{}),Object(u.jsx)(K,{})]})]})})}}]),a}(r.a.Component),$=a(23),ee={map:{here:"here"}},te=Object($.a)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAP_SAVED":return e.map=t.payload,{map:t.payload};default:return e}}}),ae=Object($.b)(te);s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(b.a,{store:ae,children:Object(u.jsx)(X,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.1ddc51be.chunk.js.map